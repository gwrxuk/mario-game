<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Super Mario - PixiJS Game</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="loading-content">
            <div class="mario-jump">üçÑ</div>
            <h1>Super Mario</h1>
            <div class="loading-bar">
                <div class="loading-progress" id="loading-progress"></div>
            </div>
            <p id="loading-text">Loading...</p>
        </div>
    </div>

    <!-- Game Container -->
    <div id="game-container">
        <!-- PixiJS canvas will be inserted here -->
    </div>

    <!-- Spline 3D Viewer (Background/Overlay) -->
    <div id="spline-container" class="spline-viewer hidden">
        <canvas id="spline-canvas"></canvas>
        <button class="spline-close-btn" id="btn-close-spline">√ó</button>
    </div>

    <!-- Game UI -->
    <div id="game-ui">
        <div id="hud">
            <div class="hud-item">
                <span class="hud-label">SCORE</span>
                <span class="hud-value" id="score">000000</span>
            </div>
            <div class="hud-item">
                <span class="hud-label">COINS</span>
                <span class="hud-value" id="coins">√ó00</span>
            </div>
            <div class="hud-item">
                <span class="hud-label">WORLD</span>
                <span class="hud-value" id="world">1-1</span>
            </div>
            <div class="hud-item">
                <span class="hud-label">TIME</span>
                <span class="hud-value" id="time">400</span>
            </div>
            <div class="hud-item">
                <span class="hud-label">LIVES</span>
                <span class="hud-value" id="lives">√ó03</span>
            </div>
        </div>
    </div>

    <!-- Mobile Controls -->
    <div id="mobile-controls">
        <div class="control-left">
            <button class="btn-control" id="btn-left" data-action="left">
                <span>‚óÄ</span>
            </button>
            <button class="btn-control" id="btn-right" data-action="right">
                <span>‚ñ∂</span>
            </button>
        </div>
        <div class="control-right">
            <button class="btn-control btn-jump" id="btn-jump" data-action="jump">
                <span>A</span>
            </button>
            <button class="btn-control btn-run" id="btn-run" data-action="run">
                <span>B</span>
            </button>
        </div>
    </div>

    <!-- Start Menu -->
    <div id="start-menu" class="menu-overlay">
        <div class="menu-content">
            <h1 class="game-title">
                <span class="title-super">SUPER</span>
                <span class="title-mario">MARIO</span>
            </h1>
            <div class="menu-options">
                <button class="menu-button" id="btn-start">START GAME</button>
                <button class="menu-button" id="btn-instructions">INSTRUCTIONS</button>
            </div>
            <div class="menu-footer">
                <p>Use Arrow Keys to Move, Space to Jump</p>
                <p>Mobile: Use On-Screen Controls</p>
            </div>
        </div>
    </div>

    <!-- Game Over Screen -->
    <div id="game-over-screen" class="menu-overlay hidden">
        <div class="menu-content">
            <h1 class="game-over-title">GAME OVER</h1>
            <div class="game-over-stats">
                <p>Final Score: <span id="final-score">0</span></p>
                <p>Coins Collected: <span id="final-coins">0</span></p>
            </div>
            <div class="menu-options">
                <button class="menu-button" id="btn-restart">PLAY AGAIN</button>
                <button class="menu-button" id="btn-menu">MAIN MENU</button>
            </div>
        </div>
    </div>

    <!-- Level Complete Screen -->
    <div id="level-complete-screen" class="menu-overlay hidden">
        <div class="menu-content">
            <h1 class="level-complete-title">LEVEL COMPLETE!</h1>
            <div class="game-over-stats">
                <p>Score: <span id="level-score">0</span></p>
                <p>Time Bonus: <span id="time-bonus">0</span></p>
            </div>
            <div class="menu-options">
                <button class="menu-button" id="btn-next-level">NEXT LEVEL</button>
            </div>
        </div>
    </div>

    <!-- Instructions Screen -->
    <div id="instructions-screen" class="menu-overlay hidden">
        <div class="menu-content">
            <h2>HOW TO PLAY</h2>
            <div class="instructions">
                <div class="instruction-item">
                    <h3>üéÆ Desktop Controls</h3>
                    <p><strong>‚Üê‚Üí</strong> Arrow Keys: Move Left/Right</p>
                    <p><strong>Space</strong> or <strong>‚Üë</strong>: Jump</p>
                    <p><strong>Shift</strong>: Run (hold)</p>
                </div>
                <div class="instruction-item">
                    <h3>üì± Mobile Controls</h3>
                    <p><strong>‚óÄ‚ñ∂</strong>: Move Left/Right</p>
                    <p><strong>A Button</strong>: Jump</p>
                    <p><strong>B Button</strong>: Run (hold)</p>
                </div>
                <div class="instruction-item">
                    <h3>üéØ Objective</h3>
                    <p>‚Ä¢ Collect coins for points</p>
                    <p>‚Ä¢ Jump on enemies to defeat them</p>
                    <p>‚Ä¢ Reach the flag at the end</p>
                    <p>‚Ä¢ Don't fall into pits!</p>
                </div>
            </div>
            <button class="menu-button" id="btn-close-instructions">BACK</button>
        </div>
    </div>

    <!-- PixiJS Library -->
    <script src="https://cdn.jsdelivr.net/npm/pixi.js@7/dist/pixi.min.js"></script>
    
    <!-- Spline Runtime -->
    <script type="module" src="https://unpkg.com/@splinetool/runtime@1.0.0/build/runtime.js"></script>
    
    <!-- Game Scripts -->
    <script src="js/config.js"></script>
    <script src="js/graphics.js"></script>
    <script src="js/entities.js"></script>
    <script src="js/physics.js"></script>
    <script src="js/level.js"></script>
    <script src="js/spline-manager.js"></script>
    <script src="js/game.js"></script>
    <script src="js/main.js"></script>
</body>
</html>

